<%- include('../partials/header.ejs')%>
<div class="container">
    <h1>Personalize Your Profile Here!</h1>
    <p>Provide your relevant skills, education, and experience to make a profile that we can use to create your BluePrint! You may add as many Relevant Skills as you want by just clicking the Add button. Once you have everything filled in you have the option to Add another Profile for a different Internship Job.</p>

    <form action="/users/addSkills" method = 'POST' class="user-form">
            <div class="skills-section">
            <label for= "skills">Relevent Skills</label>      
            <div id= "skillsContainer">
                <div class = "skillsInputWrapper">
                    <input type = "text" name = "skills[]" class = "skillInput" placeholder="Insert Skill">
                </div>
            </div>
        <button type = "button" id="addSkillButton">Add</button>
        </div>

        <div class="education-section">
            <label for="highestEdu">Highest Level of Education</label>
            <input type="text" name="highestEdu" id="highestEdu" placeholder="Enter Education Level">
            <br>
            <label for="eduGpa">GPA</label>
            <input type="number" name="eduGpa" id="eduGpa" placeholder="0.00">
        </div>

        <div class="experience-section">
            <label>Experience</label>
            <div id="experiencesContainer">
                <div class="experienceInputWrapper">
                    <input type="text" name="years[]" class="years" placeholder="Years">
                    <input type="text" name="role[]" class="role" placeholder="Role">
                    <input type="text" name="responsibilities[]" class="responsibilities" placeholder="Responsibilities">
                    <input type="text" name="experienceName[]" class="experienceName" placeholder="Experience Name">
                    <input type="text" name="location[]" class="location" placeholder="Location">
                </div>
            </div>
            <button type="button" id="addExperienceButton">Add</button>
        </div>

        <input type="submit" value="SUBMIT" class="submit-button" />
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const addSkillButton = document.getElementById('addSkillButton');
        const skillsContainer = document.getElementById('skillsContainer');

        addSkillButton.addEventListener('click', function () {
            const newSkillInputWrapper = document.createElement('div');
            newSkillInputWrapper.className = 'skillInputWrapper';

            const newSkillInput = document.createElement('input');
            newSkillInput.type = 'text';
            newSkillInput.name = 'skills[]';
            newSkillInput.className = 'skillInput';
            newSkillInput.placeholder = 'Insert Skill';

            const removeSkillBtn = document.createElement('button');
            removeSkillBtn.type = 'button';
            removeSkillBtn.className = 'removeSkillBtn';
            removeSkillBtn.textContent = 'x';

            newSkillInputWrapper.appendChild(newSkillInput);
            newSkillInputWrapper.appendChild(removeSkillBtn);
            skillsContainer.appendChild(newSkillInputWrapper);

            // Add event listener for the new "x" button
            removeSkillBtn.addEventListener('click', function () {
                newSkillInputWrapper.remove();
            });
        });

        const addExperienceButton = document.getElementById('addExperienceButton');
        const experiencesContainer = document.getElementById('experiencesContainer');

        addExperienceButton.addEventListener('click', function () {
            const newExperienceWrapper = document.createElement('div');
            newExperienceWrapper.className = 'experienceInputWrapper';

            const newExperienceInputs = [
                { type: 'text', name: 'years[]', placeholder: 'Years' },
                { type: 'text', name: 'role[]', placeholder: 'Role' },
                { type: 'text', name: 'responsibilities[]', placeholder: 'Responsibilities' },
                { type: 'text', name: 'experienceName[]', placeholder: 'Experience Name' },
                { type: 'text', name: 'location[]', placeholder: 'Location' }
            ];

            newExperienceInputs.forEach(inputConfig => {
                const newInput = document.createElement('input');
                newInput.type = inputConfig.type;
                newInput.name = inputConfig.name;
                newInput.placeholder = inputConfig.placeholder;
                newExperienceWrapper.appendChild(newInput);
            });

            const removeExperienceBtn = document.createElement('button');
            removeExperienceBtn.type = 'button';
            removeExperienceBtn.className = 'removeExperienceBtn';
            removeExperienceBtn.textContent = 'x';

            newExperienceWrapper.appendChild(removeExperienceBtn);
            experiencesContainer.appendChild(newExperienceWrapper);

            // Add event listener for the new "x" button
            removeExperienceBtn.addEventListener('click', function () {
                newExperienceWrapper.remove();
            });
        });
    });
</script>
<style>
    .container {
    max-width: 600px;
    margin: 50px auto;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.user-form {
    display: flex;
    flex-direction: column;
}

.skills-section,
.education-section,
.experience-section {
    margin-bottom: 20px;
}

label {
    font-weight: bold;
}

input[type="text"],
input[type="number"] {
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

#skillsContainer,
#experiencesContainer {
    margin-bottom: 10px;
}

button {
    padding: 10px 20px;
    background-color: #15639f;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button:hover {
    background-color: #0e4d80;
}

.submit-button {
    background-color: #15639f;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    }

    .submit-button:hover {
        background-color: #0e4f81;
    }
</style>